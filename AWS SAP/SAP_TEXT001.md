# SAP#01
## 0101
>Q. 転送中および保存時に暗号化する必要のある数千の100GBファイルにわたる数百万の機密トランザクションを保持。
>- 転送中と保存時に暗号化される必要がある。
>- ビジネス上の意思決定の舵取りに使用できるシュミレーションを生成するため最大5TBのスペースを消費するファイルのサブセットに依存。
>- 長期ストレージとデータの処理中のサブセットに費用対効果の高い方法で対応できる設計とは。 

- 大容量のファイルをやりとりするとき暗号化する必要がある。
- シュミレーションを生成するために5TBのスペースを消費する。

>A. サーバー側の暗号化でAmazon S3を使用し、HTTPSを使用して転送し、Amazon EC2のエフェメラルドライブのサブセットでシュミレーションを実行する。

- エフェメラルドライブ：揮発性ドライブ。インスタンス停止でデータが消去される。一時ファイルを格納するために使うストレージ。
- 5TBのデータを使用したシュミレーションはメモリ内では実行不可
- Amazon EMR (旧称 Amazon Elastic MapReduce) ：ビッグデータを処理および分析するマネージドクラスタープラットフォーム
- HDFS：マスターノードおよびコアノードによって使用。利点は高速である。欠点は、エフェメラルなストレージであり、クラスターが終了すると回収される。最適な用途は、ジョブフローの中間ステップで得られた結果のキャッシュ場所です。
- EBSの利用：コストが高い

### S3とHDFSの違い
- 違い１：S3 は HDFS よりもスケーラブルである
- 違い２：S3 は HDFS より耐久性がある
- 違い３：S3 のデータは、HDFSのデータとは異なり、常に永続的である
- 違い４：S3 は費用対効果が高く、HDFS よりも安い可能性が高い
- 違い５：パフォーマンスに関しては HDFS が優れており、S3 を上回っている


## 0102
>Q. すべてのEC2に追加の保護層を提供する方法は？

>A
> - すべてのEC2リソースを識別するために、適切なタグ付け戦略が実装されていることを確認する
> - EC2インスタンスへのリクエストが特定のIPアドレスまたはCIDRブロック範囲からのものであることを指定するポリシーにIPアドレスの条件を追加する
> - タグ付けしたリソースに対してアクセス許可を拒否または許可するポリシーを追加する

- IAMアイデンティティベースのポリシー
    - 最初のレイヤーはルートテーブルです。ルートテーブルではゲートウェイを制御します。
    - サブネット自体でインバウンドとアウトバウンド両方の拒否ポリシーを設定できます。
    - https://qiita.com/hasmukhrathod_nttdintellilink/items/fa552a0446bbfb277d45


